@using IfcFixLib.IfcPipelineDefinition

<ProcessStatusIndicator Status="@Connector.Status" Message="@Connector.StatusDescription" RerenderTrigger="_forceRerender"/>

@code {
	[Parameter]
	[EditorRequired]
	public required IPipeConnector Connector { get; set; }
	private bool _forceRerender;

	protected override void OnAfterRender(bool firstRender)
	{
		base.OnAfterRender(firstRender);
		if (firstRender)
		{
			Connector.StateChanged += OnStateChange;
		}
	}
	protected void OnStateChange(object? sender, EventArgs eventArgs)
	{
		_forceRerender = !_forceRerender;
		StateHasChanged();
	}
}
